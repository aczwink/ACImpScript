//---------------------------
//---------------------------
//------- Assignments -------
//---------------------------
//---------------------------

NONTERMINALS EParserNonTerminals;
TERMINALS ESourceToken;
STARTSYMBOL START;
ENDOFINPUT TOKEN_END;




//---------------------------
//---------------------------
//--------- C Enums ---------
//---------------------------
//---------------------------

enum EParserNonTerminals
{
	START,
	FUNCSANDCONSTS,
	FUNCTION,
	CONSTANT,
	RETURNTYPE,
	ARGUMENTS,
	STATEMENTS,
	STATEMENT,
	EXPRESSION,
	CALLARGS,
	VALUE,
	TYPE,
	MORETHANZEROARGUMENTS,
	VARNAMES,
	FORINIT,
	ARRAYVALUE,
	MORETHANZEROCALLARGS,
};

enum ESourceToken
	{
		TOKEN_ILLEGAL,
		TOKEN_END,
		TOKEN_TABSPACE,
		TOKEN_LINEFEED,
		TOKEN_CARRIAGERETURN,
		TOKEN_LITERAL,
		TOKEN_OPENPAREN,
		TOKEN_CLOSEPAREN,
		TOKEN_PLUS,
		TOKEN_PLUSPLUS,
		TOKEN_MINUS,
		TOKEN_NUMBER,
		TOKEN_SINGLELINECOMMENT,
		TOKEN_MULTILINECOMMENT,
		TOKEN_COMMA,
		TOKEN_SEMICOLON,
		TOKEN_LESSTHAN,
		TOKEN_LESSOREQUAL,
		TOKEN_ASSIGN,
		TOKEN_EQUALS,
		TOKEN_IDENTIFIER,
		TOKEN_OPENBRACE,
		TOKEN_CLOSEBRACE,
		TOKEN_SQUAREDBRACKETOPEN,
		TOKEN_SQUAREDBRACKETCLOSE,
		
		TOKEN_ARRAY,
		TOKEN_CONST,
		TOKEN_FOR,
		TOKEN_IF,
		TOKEN_INT,
		TOKEN_NEW,
		TOKEN_RETURN,
		TOKEN_VOID,
		
		TOKEN_ELSE,
		TOKEN_WHILE,
		TOKEN_FLOAT,
		TOKEN_STRING,
		TOKEN_NOTEQUALS,
		TOKEN_GREATERTHAN,
		TOKEN_GREATEROREQUAL,
		TOKEN_MULTIPLY,
		TOKEN_DIVIDE,
		TOKEN_MODULO,
		TOKEN_NOT,
		TOKEN_MINUSMINUS,
		TOKEN_FLOATNUMBER,
	};



//---------------------------
//---------------------------
//--- Operator Precedence ---
//---------------------------
//---------------------------
OPPREC
;




//---------------------------
//---------------------------
//---- Production Rules -----
//---------------------------
//---------------------------

START -> FUNCSANDCONSTS;

FUNCSANDCONSTS -> ;
FUNCSANDCONSTS -> FUNCTION FUNCSANDCONSTS;
FUNCSANDCONSTS -> CONSTANT FUNCSANDCONSTS;

FUNCTION -> RETURNTYPE TOKEN_IDENTIFIER TOKEN_OPENPAREN ARGUMENTS TOKEN_CLOSEPAREN TOKEN_OPENBRACE STATEMENTS TOKEN_CLOSEBRACE;

CONSTANT -> TOKEN_CONST TYPE TOKEN_IDENTIFIER TOKEN_ASSIGN VALUE TOKEN_SEMICOLON;

RETURNTYPE -> TOKEN_VOID;
RETURNTYPE -> TYPE;

ARGUMENTS -> ;
ARGUMENTS -> MORETHANZEROARGUMENTS;
MORETHANZEROARGUMENTS -> TYPE TOKEN_IDENTIFIER;
MORETHANZEROARGUMENTS -> TYPE TOKEN_IDENTIFIER TOKEN_COMMA MORETHANZEROARGUMENTS;

STATEMENTS -> ;
STATEMENTS -> STATEMENT STATEMENTS;

STATEMENT -> EXPRESSION TOKEN_SEMICOLON;
STATEMENT -> TYPE VARNAMES TOKEN_SEMICOLON;
STATEMENT -> TOKEN_RETURN TOKEN_SEMICOLON;
STATEMENT -> TOKEN_RETURN EXPRESSION TOKEN_SEMICOLON;
STATEMENT -> TOKEN_IF TOKEN_OPENPAREN EXPRESSION TOKEN_CLOSEPAREN TOKEN_OPENBRACE STATEMENTS TOKEN_CLOSEBRACE;
STATEMENT -> TOKEN_IF TOKEN_OPENPAREN EXPRESSION TOKEN_CLOSEPAREN TOKEN_OPENBRACE STATEMENTS TOKEN_CLOSEBRACE TOKEN_ELSE TOKEN_OPENBRACE STATEMENTS TOKEN_CLOSEBRACE;
STATEMENT -> TOKEN_WHILE TOKEN_OPENPAREN EXPRESSION TOKEN_CLOSEPAREN TOKEN_OPENBRACE STATEMENTS TOKEN_CLOSEBRACE;
STATEMENT -> TOKEN_FOR TOKEN_OPENPAREN FORINIT TOKEN_SEMICOLON EXPRESSION TOKEN_SEMICOLON EXPRESSION TOKEN_CLOSEPAREN TOKEN_OPENBRACE STATEMENTS TOKEN_CLOSEBRACE;
STATEMENT -> TOKEN_IDENTIFIER TOKEN_ASSIGN EXPRESSION TOKEN_SEMICOLON;

TYPE -> TOKEN_INT;
TYPE -> TOKEN_FLOAT;
TYPE -> TOKEN_STRING;
TYPE -> TOKEN_ARRAY;

EXPRESSION -> EXPRESSION TOKEN_EQUALS EXPRESSION;
EXPRESSION -> EXPRESSION TOKEN_NOTEQUALS EXPRESSION;
EXPRESSION -> EXPRESSION TOKEN_LESSTHAN EXPRESSION;
EXPRESSION -> EXPRESSION TOKEN_GREATERTHAN EXPRESSION;
EXPRESSION -> EXPRESSION TOKEN_LESSOREQUAL EXPRESSION;
EXPRESSION -> EXPRESSION TOKEN_GREATEROREQUAL EXPRESSION;
EXPRESSION -> EXPRESSION TOKEN_PLUS EXPRESSION;
EXPRESSION -> EXPRESSION TOKEN_MINUS EXPRESSION;
EXPRESSION -> EXPRESSION TOKEN_MULTIPLY EXPRESSION;
EXPRESSION -> EXPRESSION TOKEN_DIVIDE EXPRESSION;
EXPRESSION -> EXPRESSION TOKEN_MODULO EXPRESSION;
EXPRESSION -> TOKEN_OPENPAREN EXPRESSION TOKEN_CLOSEPAREN;
EXPRESSION -> TOKEN_MINUS EXPRESSION;
EXPRESSION -> TOKEN_NOT EXPRESSION;
EXPRESSION -> TOKEN_NEW TOKEN_ARRAY TOKEN_SQUAREDBRACKETOPEN EXPRESSION TOKEN_SQUAREDBRACKETCLOSE;
EXPRESSION -> TOKEN_IDENTIFIER TOKEN_PLUSPLUS;
EXPRESSION -> TOKEN_IDENTIFIER TOKEN_MINUSMINUS;
EXPRESSION -> TOKEN_IDENTIFIER TOKEN_OPENPAREN CALLARGS TOKEN_CLOSEPAREN;
EXPRESSION -> TOKEN_IDENTIFIER;
EXPRESSION -> TOKEN_IDENTIFIER TOKEN_SQUAREDBRACKETOPEN EXPRESSION TOKEN_SQUAREDBRACKETCLOSE;
EXPRESSION -> VALUE;

VALUE -> TOKEN_NUMBER;
VALUE -> TOKEN_FLOATNUMBER;
VALUE -> TOKEN_LITERAL;
VALUE -> TOKEN_OPENBRACE ARRAYVALUE TOKEN_CLOSEBRACE;

ARRAYVALUE -> VALUE;
ARRAYVALUE -> VALUE ARRAYVALUE;

VARNAMES -> TOKEN_IDENTIFIER;
VARNAMES -> TOKEN_IDENTIFIER TOKEN_ASSIGN VALUE;
VARNAMES -> TOKEN_IDENTIFIER TOKEN_COMMA VARNAMES;
VARNAMES -> TOKEN_IDENTIFIER TOKEN_ASSIGN VALUE TOKEN_COMMA VARNAMES;

CALLARGS -> ;
CALLARGS -> MORETHANZEROCALLARGS;
MORETHANZEROCALLARGS -> EXPRESSION;
MORETHANZEROCALLARGS -> EXPRESSION TOKEN_COMMA MORETHANZEROCALLARGS;

FORINIT -> ;
FORINIT -> TYPE VARNAMES;
FORINIT -> EXPRESSION;